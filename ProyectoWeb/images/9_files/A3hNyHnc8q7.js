/*!CK:4033375317!*//*1409623718,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["dUw7z"]); }

__d("flash-js",["copyProperties"],function(a,b,c,d,e,f,g){function h(){}g(h,{INIT:'flash/init',READY:'flash/ready',FAILED:'flash/failed'});e.exports=h;},null);
__d("legacy:flash-js",["flash-js"],function(a,b,c,d){a.Flash=b('flash-js');},3);
__d("getLayoutRoot",["DOMQuery","csx"],function(a,b,c,d,e,f,g,h){var i=null;function j(){if(!i)i=g.scry(document.body,"._li")[0];return i;}e.exports=j;},null);
__d("PhotoUtils",["Event","URI"],function(a,b,c,d,e,f,g,h){var i={getImagesFromData:function(j){var k=[];for(var l in j)if(l.indexOf('image')===0)k.push(j[l]);return k;},getFBIDFromData:function(j){return j&&j.id;},getOriginalImageFromData:function(j){return j.original||j.download_image;},getDownloadURLFromData:function(j){var k=this.getOriginalImageFromData(j);if(!k)return null;var l=new h(k.uri);l.addQueryData({dl:1});return l;},getPermalinkFromData:function(j){return j.permalink;},canViewerMakeCoverPhoto:function(j){return !!j.can_viewer_make_cover_photo;},getCoverPhotoURLFromData:function(j){return new h('/profile.php').addQueryData({preview_cover:i.getFBIDFromData(j)});},preload:function(j,k,l){var m=j.getDimensions();for(var n=0;n<k.length;++n){var o=m.getBestFitImageFromPhoto(k[n],m.getMaxStageDimensions()),p=new Image();l&&g.listen(p,'load',l.bind(null,k[n]));j.getLogger().log(o.uri);p.src=o.uri;}}};e.exports=i;},null);
__d("SpotlightViewerClose",["React","ReactPropTypes","TooltipLink.react","cx","fbt","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l){var m=g.createClass({displayName:'SpotlightViewerClose',propTypes:{position:h.oneOf(['left','right'])},getDefaultProps:function(){return {position:'right'};},render:function(){var n=(this.props.position=='left')?"_5wx3":"_5wx4",o=g.createElement(g.DOM.span,null,"Presiona Esc para cerrar");return (g.createElement(i,{className:l("_4-o9 _50-m _51an",n),onClick:this.props.onClick,tooltip:o}));}});e.exports=m;},null);
__d("SpotlightViewport",["Locale","Parent","React","ReactPropTypes","Vector","cx","joinClasses"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=i.createClass({displayName:'SpotlightViewport',propTypes:{stageDimensions:j.object.isRequired},PAGE_TO_PREV_PERCENTAGE:.2,sections:{NONE:null,FORWARD:1,BACKWARD:2},getInitialState:function(){return {currentActiveSection:this.sections.NONE,active:true};},_onMouseMove:function(event){var o=k.getEventPosition(event.nativeEvent),p=k.getElementPosition(this.getDOMNode()),q,r=o.x-p.x,s=r/this.props.stageDimensions.x;if(g.isRTL()){q=s>(1-this.PAGE_TO_PREV_PERCENTAGE);}else q=s<this.PAGE_TO_PREV_PERCENTAGE;if(q){this.setState({currentActiveSection:this.sections.BACKWARD});}else this.setState({currentActiveSection:this.sections.FORWARD});},_onClick:function(event){var o=this.state.currentActiveSection==this.sections.FORWARD,p=event.target;if(!h.byClass(p,"_51an"))this.props.onClick&&this.props.onClick(o);},_onMouseEnter:function(){this.setState({active:true});},_onMouseLeave:function(){this.setState({active:false});},render:function(){var o=(("_4-of")+(!this.state.active&&!this.props.active?' '+"_50-l":'')+(this.state.currentActiveSection===this.sections.BACKWARD?' '+"_516a":'')+(this.state.currentActiveSection===this.sections.FORWARD?' '+"_516b":'')+(this.props.showLoadingIndicator?' '+"_51jp":''));if(this.props.className)o=m(o,this.props.className);return (i.createElement(i.DOM.div,{className:o,style:{width:this.props.stageDimensions&&this.props.stageDimensions.x,height:this.props.stageDimensions&&this.props.stageDimensions.y},onClick:this._onClick,onMouseMove:this._onMouseMove,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},this.props.children,i.createElement(i.DOM.div,{className:"_4-og"},i.createElement(i.DOM.span,{className:"_4-oh"}),this.props.media,i.createElement(i.DOM.div,{className:"_4-oi"}))));}});e.exports=n;},null);
__d("SpotlightViewerUnmountOnClose",[],function(a,b,c,d,e,f){function g(h){"use strict";this.$SpotlightViewerUnmountOnClose0=h;}g.prototype.enable=function(){"use strict";this.$SpotlightViewerUnmountOnClose1=this.$SpotlightViewerUnmountOnClose0.subscribeOnce('close',this.$SpotlightViewerUnmountOnClose0.unmountComponent.bind(this.$SpotlightViewerUnmountOnClose0));};g.prototype.disable=function(){"use strict";this.$SpotlightViewerUnmountOnClose1&&this.$SpotlightViewerUnmountOnClose1.unsubscribe();delete this.$SpotlightViewerUnmountOnClose1;};e.exports=g;},null);
__d("PhotoViewerDimensions",["Event","PhotoUtils","Vector","copyProperties"],function(a,b,c,d,e,f,g,h,i,j){var k={verticalPadding:'number',horizontalPadding:'number',normalResDim:'object'};function l(m){"use strict";for(var n in m){if(!k[n])throw new Error("Unsupported extraData value '"+n+"' should not be used");if(typeof m[n]===k[n])this['_'+n]=m[n];}this._listener=g.listen(window,'resize',this._resetMaxStageDimensions.bind(this));}l.prototype.destroy=function(){"use strict";this._listener.remove();};l.prototype.getStageDimensions=function(m){"use strict";var n=this.getMaxStageDimensions(),o=new i(Math.min(m.x,n.x),Math.min(m.y,n.y)),p=o.x/o.y,q=m.x/m.y;if(p<q){o.y=Math.round(o.x/q);}else o.x=Math.round(o.y*q);return o;};l.prototype.getImageDimensionsForStage=function(m,n){"use strict";var o=m.x,p=m.y,q=n.x,r=n.y;if(o>=q||p>=r){var s=o/p,t=q/r;if(t<s){o=q;p=Math.round(q/s);}else if(t>s){o=Math.round(r*s);p=r;}else{o=q;p=r;}}return new i(o,p);};l.prototype.getMaxStageDimensions=function(){"use strict";if(!this._maxStageDimensions)this._maxStageDimensions=new i(i.getViewportDimensions().x-this._horizontalPadding,i.getViewportDimensions().y-this._verticalPadding);return this._maxStageDimensions;};l.prototype._resetMaxStageDimensions=function(){"use strict";this._maxStageDimensions=null;};l.prototype.getBestFitImageFromPhoto=function(m,n){"use strict";var o=null,p=h.getImagesFromData(m);p=p.sort(function(r,s){return s.width-r.width;});if(window.devicePixelRatio&&window.devicePixelRatio>1)n=new i(n.x*window.devicePixelRatio,n.y*window.devicePixelRatio);for(var q=0;q<p.length;q++)if(!o||p[q].width>=n.x||p[q].height>=n.y)o=p[q];return o;};l.prototype.getOriginalDimensionsFromPhoto=function(m){"use strict";var n=h.getOriginalImageFromData(m);return new i(n.width,n.height);};l.prototype.getBestFitDimensionsFromPhoto=function(m,n){"use strict";var o=this.getBestFitImageFromPhoto(m,n);return new i(o.width,o.height);};l.prototype.getVerticalPadding=function(){"use strict";return this._verticalPadding;};l.prototype.getHorizontalPadding=function(){"use strict";return this._horizontalPadding;};j(l.prototype,{_verticalPadding:40,_horizontalPadding:60,_normalResDim:{x:960,y:960}});e.exports=l;},null);
__d("legacy:swfobject",["swfobject"],function(a,b,c,d,e,f,g){a.deconcept=g;a.SWFObject=g.SWFObject;a.showFlashErrorDialog=g.showFlashErrorDialog;},3);
__d("VideoPlayerAdditionalLogDataGetter",[],function(a,b,c,d,e,f){function g(h){"use strict";if(typeof h!=='function'){this.$VideoPlayerAdditionalLogDataGetter0=null;this.$VideoPlayerAdditionalLogDataGetter1=h;}else{this.$VideoPlayerAdditionalLogDataGetter0=h;this.$VideoPlayerAdditionalLogDataGetter1=null;}}g.prototype.get=function(){"use strict";if(this.$VideoPlayerAdditionalLogDataGetter1)return this.$VideoPlayerAdditionalLogDataGetter1();return this.$VideoPlayerAdditionalLogDataGetter0;};e.exports=g;},null);
__d("SpotlightVideoDimensions",["PhotoViewerDimensions","Vector"],function(a,b,c,d,e,f,g,h){var i=520;function j(k){"use strict";this.$SpotlightVideoDimensions0=new g();this.$SpotlightVideoDimensions1=k;}j.prototype.getStageAndVideoDimensions=function(k){"use strict";var l=this.$SpotlightVideoDimensions0.getMaxStageDimensions(),m=this.$SpotlightVideoDimensions0.getImageDimensionsForStage(k,l.sub(this.$SpotlightVideoDimensions1,0)),n=new h(m.x+this.$SpotlightVideoDimensions1,Math.max(m.y,i));return {stageDimensions:n,videoDimensions:m};};e.exports=j;},null);
__d("VideoSpotlight",["LayerHideOnBlur","LayerHideOnEscape","ReactLayer","Spotlight","cx","getLayoutRoot","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=i.createClass({getDefaultEnabledBehaviors:function(){return {hideOnBlur:g,hideOnEscape:h};},createLayer:function(o){m(l());var p=this.enumerateBehaviors(this.props.behaviors),q={addedBehaviors:p,rootClassName:"_5v-m"},r=new j(q,o);r.conditionShow(this.props.shown);r.setInsertParent(l());if(this.props.onHide)r.subscribe('hide',this.props.onHide);return r;},receiveProps:function(o){this.layer.conditionShow(o.shown);}});e.exports=n;},null);
__d("SpotlightVideoViewer",["ArbiterMixin","BehaviorsMixin","Event","React","ReactLayeredComponentMixin","SpotlightVideoDimensions","SpotlightViewerClose","SpotlightViewerUnmountOnClose","SpotlightViewport","SubscriptionsHandler","Style","Vector","VideoSpotlight","cx","getViewportDimensions","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){var w=360,x=j.createClass({displayName:'SpotlightVideoViewer',mixins:[g,h,k],behaviors:[n],componentWillMount:function(){this.enableBehaviors(this.behaviors);},componentDidMount:function(){this._subscriptions.addSubscriptions(i.listen(window,'resize',this._onResize));this._popOutVideo();},componentWillUnmount:function(){this._subscriptions.release();this.destroyBehaviors();},getInitialState:function(){this._dimensions=new l(w);this._originalDimensions=new r(this.props.videoElement.offsetWidth,this.props.videoElement.offsetHeight);this._targetDimensions=this._originalDimensions.mul(2);this._subscriptions=new p();return {dimensions:this._dimensions.getStageAndVideoDimensions(this._targetDimensions)};},renderLayers:function(){var y={height:this.state.dimensions.stageDimensions.y+'px'};return {videoLayer:j.createElement(s,{onHide:this._popInVideo,shown:true},j.createElement(j.DOM.div,{className:"_n3"},j.createElement(o,{stageDimensions:this.state.dimensions.stageDimensions},j.createElement(m,{onClick:this._handleClose}),j.createElement(j.DOM.div,{className:"rfloat _5xg6",style:y},j.createElement(j.DOM.div,{className:"_5xg7"},' ',"UFI Section",' ')))))};},render:function(){return j.createElement(j.DOM.div,null);},_handleClose:function(){this.inform('close');},_onResize:function(){this.setState({dimensions:this._dimensions.getStageAndVideoDimensions(this._targetDimensions)});this._repositionVideo();},_popOutVideo:function(){v(this.props.videoElement);q.apply(this.props.videoElement,{position:'fixed','z-index':'401'});this._repositionVideo();},_popInVideo:function(){this._handleClose();v(this.props.videoElement);var y=this._originalDimensions.x,z=this._originalDimensions.y;q.apply(this.props.videoElement,{left:0,height:z+'px',position:'static',top:0,width:y+'px','z-index':'auto'});q.apply(this.props.swfElement,{height:z+'px',width:y+'px'});},_repositionVideo:function(){var y=u.withoutScrollbars(),z=this.state.dimensions.videoDimensions.y,aa=this.state.dimensions.videoDimensions.x-1,ba=y.width/2-this.state.dimensions.stageDimensions.x/2+1,ca=y.height/2-z/2;q.apply(this.props.videoElement,{height:z+'px',left:ba+'px',top:ca+'px',width:aa+'px'});q.apply(this.props.swfElement,{height:z+'px',width:aa+'px'});}});e.exports=x;},null);
__d("VideoViewer",["DOM","React","SpotlightVideoViewer"],function(a,b,c,d,e,f,g,h,i){var j={_viewerContainer:null,bootstrapWithElement:function(k,l){var m=h.createElement(i,{swfElement:l,videoElement:k});j.renderViewer(m);},renderViewer:function(k){if(!this._viewerContainer){this._viewerContainer=g.create('div');document.body.appendChild(this._viewerContainer);}k=h.renderComponent(k,this._viewerContainer);k.subscribeOnce('close',function(){g.empty(this._viewerContainer);}.bind(this));}};e.exports=j;},null);
__d("VideoPlayerUnitX",["Arbiter","AttachmentRelatedShareConstants","CSS","DOM","Event","LitestandStoryInsertionStatus","PhotoSnowlift","Run","SubscriptionsHandler","VideoAutoplayPlayButton","VideoPlayerAdditionalLogDataGetter","VideoPlayerLoggerEvents","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerSources","VideoPlayerController","VideoPlayerVersions","VideoViewer","cx","logVideosClickTracking","VideoPlayerReason"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba){var ca=100,da=10000;for(var ea in w)if(w.hasOwnProperty(ea))ga[ea]=w[ea];var fa=w===null?null:w.prototype;ga.prototype=Object.create(fa);ga.prototype.constructor=ga;ga.__superConstructor__=w;function ga(ha,ia,ja){"use strict";this.$VideoPlayerUnitX0=ia;this.$VideoPlayerUnitX1=0;this.$VideoPlayerUnitX2=ha;this.$VideoPlayerUnitX3=this.isAutoplayable();this.$VideoPlayerUnitX4=!!this.$VideoPlayerUnitX2.pivotThumbs;this.$VideoPlayerUnitX5=new o();this.$VideoPlayerUnitX6=ja;this.$VideoPlayerUnitX7=null;n.onLeave(function(){this.$VideoPlayerUnitX5.release();this.$VideoPlayerUnitX6();}.bind(this));this.$VideoPlayerUnitX8=false;if(p.getClicked(ia.flash_id))this.$VideoPlayerUnitX8=true;var ka=Object.assign({},ia,{source:this.$VideoPlayerUnitX0.is_ad?v.ADS:v.INLINE,should_autoplay:false,additional_logdata_getter:new q({autoplay_eligible:this.$VideoPlayerUnitX0.viewport_autoplay})});fa.constructor.call(this,ka,ha);this.$VideoPlayerUnitX9=this;this.$VideoPlayerUnitX9.setAdditionalLogDataGetter(new q(function(){return {autoplay_eligible:this.isAutoplayable()};}.bind(this)));if(this.$VideoPlayerUnitX9.isImplementationUnavailable())this.$VideoPlayerUnitXa();this.$VideoPlayerUnitXb();if(this.isState('fallback'))return;if(this.$VideoPlayerUnitX8)this.$VideoPlayerUnitXc(ba.USER);this.$VideoPlayerUnitXd();p.unregister(this.$VideoPlayerUnitX0.flash_id);this.$VideoPlayerUnitX2.thumbnails.forEach(function(la){this.$VideoPlayerUnitX5.addSubscriptions(k.listen(la,'click',function(){return this.$VideoPlayerUnitXe();}.bind(this)));}.bind(this));this.$VideoPlayerUnitX5.addSubscriptions(k.listen(this.$VideoPlayerUnitX2.play_icon,'click',function(){return this.$VideoPlayerUnitXe();}.bind(this)),l.registerBlocker(function(){return this.isState('playing');}.bind(this)));if(this.$VideoPlayerUnitXf()){this.$VideoPlayerUnitX2.pivotThumbs.forEach(function(la){this.$VideoPlayerUnitX5.addSubscriptions(k.listen(la,'click',function(){this.$VideoPlayerUnitXg();}.bind(this)));}.bind(this));this.$VideoPlayerUnitX5.addSubscriptions(k.listen(this.$VideoPlayerUnitX2.pivotNextText,'click',function(){this.$VideoPlayerUnitXe();}.bind(this)));this.$VideoPlayerUnitX5.addSubscriptions(k.listen(this.$VideoPlayerUnitX2.pivotReplayText,'click',function(){this.$VideoPlayerUnitXg();}.bind(this)));}if(this.isPlayerVersion(x.HTML5))this.onFlashReady();}ga.prototype.$VideoPlayerUnitXa=function(){"use strict";this.$VideoPlayerUnitXh(false,u.FLASH_UNAVAILABLE);};ga.prototype.isAutoplayable=function(){"use strict";return this.$VideoPlayerUnitX0.viewport_autoplay&&!this.$VideoPlayerUnitXi;};ga.prototype.$VideoPlayerUnitXc=function(ha){"use strict";if(this.$VideoPlayerUnitX3){this.$VideoPlayerUnitX3=false;if(this.$VideoPlayerUnitX9.unmute){this.$VideoPlayerUnitX9.unmute();}else if(this.getVideoAPI())this.getVideoAPI().unmute();}this.$VideoPlayerUnitX9.play(ha);};ga.prototype.$VideoPlayerUnitXj=function(){"use strict";this.pause('large_format');m.bootstrap(this.$VideoPlayerUnitX0.permalink_url);this.logEvent(r.ENTER_LARGE_FORMAT);aa(this.getVideoNode());};ga.prototype.playWithoutUnmute=function(ha){"use strict";this.$VideoPlayerUnitX9.play(ha);};ga.prototype.$VideoPlayerUnitXe=function(){"use strict";this.$VideoPlayerUnitXc(ba.USER);aa(this.getVideoNode());};ga.prototype.$VideoPlayerUnitXg=function(){"use strict";if(this.$VideoPlayerUnitX9.previousVideo){this.$VideoPlayerUnitX9.previousVideo();}else this.$VideoPlayerUnitXk(this.$VideoPlayerUnitXl());this.$VideoPlayerUnitXc(ba.USER);};ga.prototype.$VideoPlayerUnitXm=function(){"use strict";if(this.$VideoPlayerUnitX9.getVideoID)return this.$VideoPlayerUnitX9.getVideoID();return this.$VideoPlayerUnitX0.video_ids[this.$VideoPlayerUnitXn()];};ga.prototype.$VideoPlayerUnitXn=function(){"use strict";if(this.$VideoPlayerUnitX9.getVideoIndex)return this.$VideoPlayerUnitX9.getVideoIndex();return this.$VideoPlayerUnitX1;};ga.prototype.$VideoPlayerUnitXo=function(){"use strict";this.$VideoPlayerUnitXp();};ga.prototype.$VideoPlayerUnitXb=function(){"use strict";var ha=[['expandVideo',function(){return this.$VideoPlayerUnitXq();}.bind(this)],['finishPlayback',function(){return this.$VideoPlayerUnitXr();}.bind(this)],['turnOffAutoplay',function(){return this.$VideoPlayerUnitXs();}.bind(this)],['unmuteVideo',function(){return this.$VideoPlayerUnitXt();}.bind(this)],['openLargeFormat',function(){return this.$VideoPlayerUnitXj();}.bind(this)],['stateChange',function(){return this.$VideoPlayerUnitXp();}.bind(this)],['switchVideo',function(){return this.$VideoPlayerUnitXo();}.bind(this)],['fallbackPlay',function(){return this.$VideoPlayerUnitXu();}.bind(this)],['buffered',function(){return this.$VideoPlayerUnitXp();}.bind(this)],['buffering',function(){return this.$VideoPlayerUnitXp();}.bind(this)]];this.$VideoPlayerUnitX5.addSubscriptions.apply(this.$VideoPlayerUnitX5,ha.map(function(ia){return this.$VideoPlayerUnitX9.addListener.apply(this.$VideoPlayerUnitX9,ia);}.bind(this)));};ga.prototype.handleFlashEvent=function(ha,ia){"use strict";if(this.isState('fallback'))return;fa.handleFlashEvent.call(this,ha,ia);if(!fa.emit)switch(ha){case 'flash/expandVideo':this.$VideoPlayerUnitXq();break;case 'flash/finishPlayback':this.$VideoPlayerUnitXr();break;case 'flash/turnOffAutoplay':this.$VideoPlayerUnitXs();break;case 'flash/unmuteVideo':this.$VideoPlayerUnitXt();break;case 'flash/openLargeFormat':this.$VideoPlayerUnitXj();break;}};ga.prototype.logDisplayed=function(){"use strict";this.logEvent(r.DISPLAYED,{autoplay_reason:this.$VideoPlayerUnitX0.autoplay_reason});};ga.prototype.$VideoPlayerUnitXu=function(){"use strict";var ha={error:s.ENTERED_FALLBACK,error_description:"fallback_reason: "+this.$VideoPlayerUnitX7,state:t.PLAYBACK_FAILURE};this.logEvent(r.ERROR,ha);};ga.prototype.sendPlayRequest=function(ha){"use strict";if(this.isState('fallback')){this.$VideoPlayerUnitXu();return;}fa.sendPlayRequest.call(this,ha);};ga.prototype.$VideoPlayerUnitXh=function(ha,ia){"use strict";ha=ha===undefined?true:ha;this.$VideoPlayerUnitX7=ia;this.setState('fallback');this.logEvent(r.ENTERED_FALLBACK,{reason:ia,flash_available:ha});};ga.prototype.$VideoPlayerUnitXd=function(){"use strict";setTimeout(function(){if(this.isState('loading')){this.$VideoPlayerUnitXh(true,u.TIMEOUT);this.cancelPlayRequest();}}.bind(this),da);};ga.prototype.$VideoPlayerUnitXq=function(){"use strict";y.bootstrapWithElement(this.$VideoPlayerUnitX2.video_container,this.getVideoNode());};ga.prototype.$VideoPlayerUnitXt=function(){"use strict";this.$VideoPlayerUnitXv();};ga.prototype.$VideoPlayerUnitXf=function(){"use strict";if(this.$VideoPlayerUnitX9.getVideosCount)return this.$VideoPlayerUnitX9.getVideosCount()>1;return this.$VideoPlayerUnitX4;};ga.prototype.$VideoPlayerUnitXr=function(){"use strict";if(this.$VideoPlayerUnitXf())if(this.$VideoPlayerUnitX9.nextVideo){this.$VideoPlayerUnitX9.nextVideo();}else this.$VideoPlayerUnitXk(this.$VideoPlayerUnitXw());this.$VideoPlayerUnitXv();this.$VideoPlayerUnitXx();};ga.prototype.handleFlashApiFactoryError=function(ha,ia){"use strict";fa.handleFlashApiFactoryError.call(this,ha,ia);this.$VideoPlayerUnitXh(true,u.FLASH_ERROR);};ga.prototype.getVideoElement=function(){"use strict";return this.$VideoPlayerUnitX2.video;};ga.prototype.$VideoPlayerUnitXx=function(){"use strict";this.$VideoPlayerUnitXi=true;};ga.prototype.$VideoPlayerUnitXs=function(){"use strict";this.$VideoPlayerUnitXx();};ga.prototype.$VideoPlayerUnitXp=function(){"use strict";this.$VideoPlayerUnitXy();this.$VideoPlayerUnitXz();this.$VideoPlayerUnitXA();this.$VideoPlayerUnitXB();this.$VideoPlayerUnitXC();this.$VideoPlayerUnitXD();};ga.prototype.$VideoPlayerUnitXy=function(){"use strict";if(this.isState('fallback')){this.$VideoPlayerUnitX5.release();var ha=this.$VideoPlayerUnitX2;j.empty(this.$VideoPlayerUnitX9.getRootNode());j.appendContent(this.$VideoPlayerUnitX9.getRootNode(),ha.fallback_link);j.appendContent(ha.fallback_link,ha.thumbnails[this.$VideoPlayerUnitXn()]);j.appendContent(ha.fallback_link,ha.play_icon);}};ga.prototype.$VideoPlayerUnitXB=function(){"use strict";if(this.isState('fallback')||(this.isState('loading')&&!this.isPlayRequestPending()&&!this.$VideoPlayerUnitX8&&!this.isAutoplayable())||((this.isState('ready')||this.isState('paused'))&&!this.isPlayRequestPending())){i.addClass(this.$VideoPlayerUnitX2.play_icon,"_5vos");}else if(this.isState('finished')){if(this.$VideoPlayerUnitX2.cta_endscreen!=null){return;}else if(!this.$VideoPlayerUnitXf())i.addClass(this.$VideoPlayerUnitX2.play_icon,"_5vos");}else if(!this.isState('finished')||!this.$VideoPlayerUnitXf()){i.removeClass(this.$VideoPlayerUnitX2.play_icon,"_5vos");i.removeClass(this.$VideoPlayerUnitX2.play_icon,"_5vov");}};ga.prototype.$VideoPlayerUnitXC=function(){"use strict";if(this.isBuffering()||(this.isState('loading')&&(this.$VideoPlayerUnitX8||this.isAutoplayable()))||(this.isState('ready')&&this.isPlayRequestPending())){i.show(this.$VideoPlayerUnitX2.spinner);}else i.hide(this.$VideoPlayerUnitX2.spinner);};ga.prototype.$VideoPlayerUnitXD=function(){"use strict";if(this.isState('playing')||this.isState('paused')){this.$VideoPlayerUnitX2.thumbnails.forEach(function(ha){i.hide(ha);});}else i.show(this.$VideoPlayerUnitX2.thumbnails[this.$VideoPlayerUnitXn()]);};ga.prototype.$VideoPlayerUnitXA=function(){"use strict";if(!this.$VideoPlayerUnitXf())return;var ha=this.$VideoPlayerUnitX2.pivotThumbs;ha.forEach(function(ja){i.removeClass(ja,"_5vlu");i.removeClass(ja,"_5vou");i.addClass(ja,"_5vot");});i.removeClass(this.$VideoPlayerUnitX2.pivotReplayText,"_5vm5");i.removeClass(this.$VideoPlayerUnitX2.pivotNextText,"_5vm5");if(this.isState('finished')){var ia=ha[this.$VideoPlayerUnitXl()];i.removeClass(ia,"_5vot");i.addClass(ia,"_5vlu");setTimeout(function(){if(!this.isState('finished'))return;i.addClass(ia,"_5vou");i.addClass(this.$VideoPlayerUnitX2.pivotReplayText,"_5vm5");i.addClass(this.$VideoPlayerUnitX2.pivotNextText,"_5vm5");i.addClass(this.$VideoPlayerUnitX2.play_icon,"_5vov");}.bind(this),ca);}};ga.prototype.$VideoPlayerUnitXz=function(){"use strict";if(!this.$VideoPlayerUnitXf())return;var ha=this.$VideoPlayerUnitX2.story_footers;for(var ia=0;ia<ha.length;ia++)i.conditionShow(ha[ia],ia===this.$VideoPlayerUnitXn());};ga.prototype.$VideoPlayerUnitXw=function(){"use strict";var ha=this.$VideoPlayerUnitXE();return (this.$VideoPlayerUnitXn()+1)%ha;};ga.prototype.$VideoPlayerUnitXl=function(){"use strict";var ha=this.$VideoPlayerUnitXE();return (this.$VideoPlayerUnitXn()-1+ha)%ha;};ga.prototype.$VideoPlayerUnitXE=function(){"use strict";if(this.$VideoPlayerUnitX9.getVideosCount)return this.$VideoPlayerUnitX9.getVideosCount();return this.$VideoPlayerUnitX0.video_ids.length;};ga.prototype.$VideoPlayerUnitXk=function(ha){"use strict";this.logEvent(r.CAROUSEL_CHANGE,{source_index:this.$VideoPlayerUnitXn(),target_index:ha});this.getVideoAPI().switchVideo(ha);this.$VideoPlayerUnitX1=ha;this.$VideoPlayerUnitXp();};ga.prototype.$VideoPlayerUnitXv=function(){"use strict";g.inform(h.FBVIDEO_CLICK,{attachment:this.$VideoPlayerUnitX2.video_container,fbvideo_id:this.$VideoPlayerUnitX0.video_ids[0]});};e.exports=ga;},null);
__d("VideoAutoplayControllerX",["Arbiter","DOMDimensions","Event","Visibility","SubscriptionsHandler","VideoPlayerUnitX","throttle","VideoPlayerReason"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=null,p=500,q=1;function r(){"use strict";this.$VideoAutoplayControllerX0=null;this.$VideoAutoplayControllerX1=null;this.$VideoAutoplayControllerX2=new k();this.$VideoAutoplayControllerX3=new k();this.$VideoAutoplayControllerX4={};this.$VideoAutoplayControllerX5=0;g.subscribe(['flash/beginPlayback','flash/buffered','flash/buffering','flash/clickForTracking','flash/expandVideo','flash/finishPlayback','flash/hitBoxClicked','flash/logEvent','flash/pausePlayback','flash/ready','flash/updateStatus','flash/turnOffAutoplay','flash/unmuteVideo','flash/openLargeFormat'],this.$VideoAutoplayControllerX6.bind(this));this.setAutoplayInterval(p);}r.prototype.setAutoplayInterval=function(s){"use strict";if(s===this.$VideoAutoplayControllerX7)return;this.$VideoAutoplayControllerX7=s;this.$VideoAutoplayControllerX8();};r.initVideoUnit=function(s,t){"use strict";if(o==null)o=new r();var u=new l(s,t,o.$VideoAutoplayControllerX9.bind(o));o.$VideoAutoplayControllerX4[t.flash_id]=u;o.$VideoAutoplayControllerXa();if(o.$VideoAutoplayControllerXb(u))o.$VideoAutoplayControllerXc();};r.prototype.$VideoAutoplayControllerXa=function(){"use strict";if(this.$VideoAutoplayControllerX5===0){this.$VideoAutoplayControllerX3.addSubscriptions(i.listen(window,'resize',this.$VideoAutoplayControllerXc.bind(this)),i.listen(window,'blur',this.$VideoAutoplayControllerXd.bind(this)),i.listen(window,'focus',this.$VideoAutoplayControllerXe.bind(this)),j.addListener(j.HIDDEN,this.$VideoAutoplayControllerXd.bind(this)),j.addListener(j.VISIBLE,this.$VideoAutoplayControllerXe.bind(this)));if(!this.$VideoAutoplayControllerXf)this.$VideoAutoplayControllerX8();}this.$VideoAutoplayControllerX5++;};r.prototype.$VideoAutoplayControllerX8=function(){"use strict";if(this.$VideoAutoplayControllerXf)this.$VideoAutoplayControllerXf.remove();this.$VideoAutoplayControllerXf=i.listen(window,'scroll',m(this.$VideoAutoplayControllerXc.bind(this),this.$VideoAutoplayControllerX7));};r.prototype.$VideoAutoplayControllerXg=function(){"use strict";var s=[];for(var t in this.$VideoAutoplayControllerX4){var u=this.$VideoAutoplayControllerX4[t];if(this.$VideoAutoplayControllerXb(u)){s.push(u);if(!u.isVisible){u.isVisible=true;u.logDisplayed();}}else u.isVisible=false;}return s;};r.prototype.$VideoAutoplayControllerXb=function(s){"use strict";var t=h.getViewportDimensions().height,u=s.getDOMPosition();if(u.height===0)return false;var v=u.y+(1-q)*u.height,w=u.y+q*u.height;if(v>=0&&w<t)return true;return false;};r.prototype.$VideoAutoplayControllerX6=function(s,t){"use strict";var u=this.$VideoAutoplayControllerX4[t.divID]?this.$VideoAutoplayControllerX4[t.divID]:null;if(u){if(!u.addListener)if(this.$VideoAutoplayControllerX1===u&&(s==='flash/finishPlayback'||s==='flash/turnOffAutoplay'))this.$VideoAutoplayControllerX1=null;u.handleFlashEvent(s,t);}};r.prototype.$VideoAutoplayControllerXd=function(){"use strict";if(!this.$VideoAutoplayControllerX0){this.$VideoAutoplayControllerX0=this.$VideoAutoplayControllerX1;this.$VideoAutoplayControllerXh(n.PAGE_VISIBILITY);}};r.prototype.$VideoAutoplayControllerXe=function(){"use strict";if(this.$VideoAutoplayControllerX0){this.$VideoAutoplayControllerX0.playWithoutUnmute(n.PAGE_VISIBILITY);this.$VideoAutoplayControllerX1=this.$VideoAutoplayControllerX0;this.$VideoAutoplayControllerX0=null;}};r.prototype.$VideoAutoplayControllerXh=function(s){"use strict";if(this.$VideoAutoplayControllerX1){this.$VideoAutoplayControllerX1.pause(s);this.$VideoAutoplayControllerX1=null;}};r.prototype.$VideoAutoplayControllerX9=function(){"use strict";this.$VideoAutoplayControllerX5--;if(this.$VideoAutoplayControllerX5===0){this.$VideoAutoplayControllerX3.release();this.$VideoAutoplayControllerXf.remove();this.$VideoAutoplayControllerXf=null;}};r.prototype.$VideoAutoplayControllerXi=function(){"use strict";if(this.$VideoAutoplayControllerX1.addListener){this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX2.engage();this.$VideoAutoplayControllerX2.addSubscriptions.apply(this.$VideoAutoplayControllerX2,['finishPlayback','turnOffAutoplay'].map(function(event){return this.$VideoAutoplayControllerX1.addListener(event,function(){this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX1=null;}.bind(this));}.bind(this)));}};r.prototype.$VideoAutoplayControllerXc=function(){"use strict";var s=this.$VideoAutoplayControllerXg(),t=s.length,u=null;if(t==1){u=s[0];u=u.isAutoplayable()?u:null;}else if(t>1){var v=h.getViewportDimensions().height/2;s.forEach(function(w){if(!w.isAutoplayable())return;var x=w.getDOMPosition(),y=x.y+x.height/2,z=Math.abs(y-v);w.playPriority=z;if(!u||w.playPriority<u.playPriority)u=w;});}if(this.$VideoAutoplayControllerX1){if(u!=this.$VideoAutoplayControllerX1){this.$VideoAutoplayControllerXh(n.AUTOPLAY);this.$VideoAutoplayControllerX1=u;if(this.$VideoAutoplayControllerX1){this.$VideoAutoplayControllerXi();this.$VideoAutoplayControllerX1.playWithoutUnmute(n.AUTOPLAY);}}}else if(u){this.$VideoAutoplayControllerX1=u;this.$VideoAutoplayControllerXi();this.$VideoAutoplayControllerX1.playWithoutUnmute(n.AUTOPLAY);}};e.exports=r;},null);